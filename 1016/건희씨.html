<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="UTF-8">
	<title>DOM(document object model)</title>
	<script>
	function proc1() {
		var domul = document.getElementsByTagName("ul")[0];
		var domlist = domul.getElementsByTagName("li");
		
		for(var i = 0; i < domlist.length; i++) {
			vimg = domlist[i].firstChild.data; //li안에 내용(텍스트를 가져온다)
			imgC = document.createElement("img"); // <img>태그를 만든다.
			imgC.src = "../img/" + vimg + ".png"; //<img src='안에 있는내용 '>
			imgC.width = 100;
			imgC.height = 100;
			
			domlist[i].appendChild(imgC); // li에 imgC를 붙인다.
		}
	}
	
	function proc2(ele) {
		vimg = ele.firstChild.data;
		imgC = document.createElement("img");
		imgC.src = "../img/" + vimg + ".png";
		imgC.width = 100;
		imgC.height = 100;
		
		ele.appendChild(imgC);
	}
	
	function srcChange() {
		imgarr = ["컴퓨터.png", "식품.png", "호랑이.png", "구름.png", "커피.png"];
		idx = Math.floor(Math.random() * imgarr.length);
		console.log(imgarr[idx]);
		document.getElementById("img1").firstChild.src = "../img/" + imgarr[idx];
		document.getElementById("img1").firstChild.width = 200;
		document.getElementById("img1").firstChild.height = 200;
	}
	</script>
	</head>
	<body>
		<h1>DOM</h1>
		<pre>HTML문서를 객체로 표현한 것을 DOM이라고 한다.</pre>
		
		<div class="box">
		<h2>1. 새로운 HTML 요소 생성(이미지 요소)</h2>
			버튼을 클릭하면 이미지를 표시한다. <br><br>
			1. 각 list의 문자를 가져온다 - firstChild.data; <br>
			2. 이미지 객체를 생성한다. - createElement('img'); <br>
			3. 각 list의 자식으로 이미지를 추가한다. - appendChild() <br>
			<br>
			
			<ul>
				<li>구름</li>
				<li>식품</li>
				<li>커피</li>
				<li>컴퓨터</li>
				<li>호랑이</li>
			</ul>
			<button onclick="proc1()">실행</button>
		</div>
		
		<div>
			<h2>2. 새로운 HTML 요소 생성(이미지 요소)</h2>
				각 리스트를 클릭하면 해당 이미지를 표시한다. <br>
				1. 메소드 호출시 매개변수로 this를 넘겨준다. <br>
				2. createElement() : 이미지 요소를 생성한다. <br>
				3. appendChild() : this 요소안에 자식으로 넣어라 <br>
			<ul>
				<li onclick="proc2(this)">구름</li>
				<li onclick="proc2(this)">식품</li>
				<li onclick="proc2(this)">커피</li>
				<li onclick="proc2(this)">컴퓨터</li>
				<li onclick="proc2(this)">호랑이</li>
			</ul>
		</div>
		
		<div>
			<h2>3.src속성 변경</h2>
			버튼을 클릭할때마다 이미지를 변경<br><br>
			1. 이미지를 배열로 구성<br>
			2. 랜덤발생<br>
			3. 이미지 배열 중 랜덤발생 수 번째의 이미지로 src를 변경한다.
			<button onclick="srcChange();">변경</button>
			
			<br><br>
			- 버튼을 클릭하면 1초 간격으로 이미지를 변경
			- setInterval(function() {}, 1000); <br><br>
			
			<div id = "img1"><img src="../img/호랑이.png"></div>
			
			
		</div>
	</body>
</html>