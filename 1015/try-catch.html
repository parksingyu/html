<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>try-catch</title>
		<style>
			#msg{
			font-size : 50px;
			color : red;
			}
		</style>
		<script>
			function test(){
				try{
					alert("hello world");
				} catch(e){
					/*msg = "다음과 같은 오류가 발생함 : " + e.message;
					alert(msg);*/
				} finally{ //캐치구문 오류 있던 없던 찍어줌.
					alert("finally");
				}
			
			/*
				try{
					정상이라면 이 코드는 아무런 문제 없이 블록의 시작부터
					끝까지 실행된다. 
					하지만 경우에 따라 예외가 발생할 수 있다.
				} catch(e){
					이 블록 내부의 문장들은 오직 try블록에서 예외가 발생할 경우에만 실행된다.
					이 문장들에서는 지역변수 e를 사용하여 Error객체를 발생시킨다.
				} finally{
					이 블록에서는 try블록에서 일어난 일에 관계없이 무조건 실행될 코드가 위치한다.
					이 코드는 try블록이 어떻게든 종료되면 실행된다.
					try블록이 종료되는 상황은 다음과 같다.
					
					1) 정상적으로 블록의 끝에 도달했을때
					2) break, continue 또는 return 문에 의해서 
					3) 예외가 발생했지만 catch절에서 처리했을 때
					4) 예외가 발생했고 그것이 잡히지 않은 채 퍼져나갈때
				}
			*/
			}//만약 이안에 getelementbyid 있으면 window.onload도 같이 넣어줘야한다.
			//test();
			var random = Math.floor(Math.random()*100+1);
			document.write(random);
			function guess(){
				//랜덤 수 추출
				var mess = "";
				// 작성한 number 값 가져오기.
				var num = document.getElementById("number").value;
				/* document.write("num : ");
				document.write(num); */
				// 작성한 값과 랜덤수 비교하기
				if ( random == num ){
					mess = "정답입니다.";
					document.getElementById("msg").innerHTML = mess;
				} else if (num == 0){
					mess = "값을 입력하세요";
					document.getElementById("msg").innerHTML = mess;
				} else if (random > num){
					mess = "힌트 : 입력한 값이 랜덤값 보다 작습니다";
					document.getElementById("msg").innerHTML = mess;
				} else if (random < num){
					mess = "힌트 : 입력한 값이 랜덤값 보다 큽니다.";
					document.getElementById("msg").innerHTML = mess;
				} 
				
				//맞췄으면 msg에 정답입니다.
				//랜덤수가 작성한 값보다 크면 값이 작습니다.
				//랜덤수가 작성한 값보다 작으면 값이 큽니다.
			}
			
			
			
			  window.onload = function() {
				guess();
			} //window.onload를 주석처리 하면 처음시작할때 값이 안나옴
			
		</script>
	</head>
	<body>
		<h1>Number Guess</h1>
		<p> 1부터 100사이의 숫자를 입력하세요</p>
		<input type="text" id="number">
		<button onclick="guess();">숫자추측</button>
		<p id="msg"> </p>
	</body>
</html>